## 一.多租户数据隔离方案 https://blog.csdn.net/u014624241/article/details/95964810

#### 1.DataBase隔离
##### 1)概念
```
不同的租户数据存储在不同的数据库中
```
##### 2)优点
```
实现了租户数据的物理隔离；当某个租户数据出现问题时，修复起来比较简单；可以支持某些租户个性化的需求，比如数据的备份和恢复服务
```
##### 3）缺点
```
增加了服务部署和后期运维的成本
```

#### 2.schema隔离
```
在mysql中database和schema是一个概念，但是在oracle、sqlServer、DB2中database和schema是两个概念
```
##### 1)概念
```
所有租户共享一个database，租户数据存储在同一个database的不同schema中
```
##### 2)优点
```
实现了一定的租户数据的逻辑隔离，但并不是完全隔离；

```
##### 3)缺点
```
当某个租户数据出了问题之后，修复起来很麻烦，有可能会影响到其他租户的数据
```

#### 3.租户数据增加tenantId标识,后续通过业务实现隔离
##### 1)概念
```
在所有的租户数据表中增加tenantId标识，后续在业务层实现租户数据的隔离
```
##### 2)优点
```
所有租户数据存储在同一个数据库表中,降低了部署和后期运维的成本；每个数据库能支持的租户最多

```
##### 3)缺点
```
增加了开发设计的难度；数据备份和恢复最为困难，需要逐条恢复

```

## 二.租户隔离方案比较
##### 1.业务方向
```
需要根据业务的发展方向提前决定好租户数据是要共享还是隔离
```
##### 2.成本角度
```
隔离级别越高，部署、维护成本越高
```

##### 3.安全因素
```
安全性要求越高,隔离级别要求越高
```

##### 4.租户数量
```
1.单个租户需要存储的数据量越大，越倾向隔离
2.单个租户用户越多，越倾向隔离
3.是否需要对每一个租户提供附加服务，比如：数据备份、恢复，此类需求越多，越倾向于隔离
```

##### 5.技术储备
```
租户数据共享要求越高，技术储备要求越高
```

