## 一.基本概念
### 1.悲观锁
```
每次拿数据的时候都认为数据会被更改，所以每次在拿数据的同时都对数据加锁，这样其他线程需要访问数据的时候都处于阻塞状态，直到拿到锁
```
### 2.乐观锁
```
每次去拿去数据的时候都认为数据不会被更改，所以每次拿数据的时候不对数据加锁，只在数据更新的时候看下是否有其他线程对数据做了更新，如果有更新则抛错。可以用版本号机制和CAS算法实现。

```
### 3.版本号机制
```
为数据提供一个版本号，更新数据的时候对比待更新数据和已入库数据的版本号，如果一致才更新，否则不做更新
```
### 4.CAS算法
```
.需要更新的值v
.比较的值A
.待更新的值B
当且仅当v的值等于A的值的时候，才拿待更新的值B值去对V值去做操作，否则不会执行任何操作（一般情况下是一个自旋操作，既不断的重试）
```
## 二.公平锁、非公平锁
```
公平锁：先等待的线程先释放锁
```

## 三.排他锁、共享锁
```
排他锁：当一个线程获得锁操作数据的时候，其他线程都不能对数据进行操作
共享锁：当一个线程获得锁操作数据的时候，其他线程也能对数据进行操作
```